{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/liubo1/Desktop/Demo/demo-server/pages/system_set/role/role.vue?580f","webpack:///C:/Users/liubo1/Desktop/Demo/demo-server/pages/system_set/role/role.vue?9bc1","webpack:///C:/Users/liubo1/Desktop/Demo/demo-server/pages/system_set/role/role.vue?efb2","webpack:///C:/Users/liubo1/Desktop/Demo/demo-server/pages/system_set/role/role.vue?a39e","uni-app:///pages/system_set/role/role.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","defaultOptions","value","label","req","page","rows","orderby","role_name","tblHeight","tableDatas","tableTotal","selectDatas","id","autDrawer","methods","loadData","whereif","totable","then","res","row","toAdd","uni","url","events","refreshData","toEdit","remove","confirmButtonText","cancelButtonText","type","selectionChange","removes","where","_id","sizeChange","currentChange","created","updated"],"mappings":";;;;;;;;;;;;;AAAA;AAE2D;AAC3D;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiDlnB;AAAA,eACA;EACAC;IACA;MACAC,iBACA;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,EACA;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA,kBACAC;kBAAAT;gBAAA,GACAU,mBACAC;kBACA;oBACAC;sBACAC;oBACA;oBACA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;MACAC;QACAC;QACAC;UACAC;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACAJ;QACAC;QACAC;UACAC;YACA;UACA;QACA;MACA;IACA;IACAE;MAAA;MACA;QACAC;QACAC;QACAC;MACA;QACA;UACA;YACA;UACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;QACA;QACA;MACA;MAEA;QAAA;MAAA;MAEA;QACAJ;QACAC;QACAC;MACA;QACA,mBACAG;UACAC;QACA,GACAP,SACAT;UACA;YACA;UACA;QACA;MACA;IACA;IACAiB;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;MACA;IACA;EACA;AACA;AAAA,2B","file":"pages/system_set/role/role.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/system_set/role/role.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./role.vue?vue&type=template&id=01168c2a&\"\nvar renderjs\nimport script from \"./role.vue?vue&type=script&lang=js&\"\nexport * from \"./role.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/system_set/role/role.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./role.vue?vue&type=template&id=01168c2a&\"","var render = function () {}\nvar staticRenderFns = []\nvar recyclableRender\nvar components\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./role.vue?vue&type=script&lang=js&\"","<template>\n\t<div>\n\t\t<use-table ref=\"tbl\"></use-table>\n\t\t<div class=\"container padding_b_0\">\n\t\t\t<div class=\"dflex_wrap\">\n\t\t\t\t<div class=\"dflex_vertical_c margin_r_40 margin_b_20\">\n\t\t\t\t\t<div class=\"search_name\">角色名称：</div>\n\t\t\t\t\t<el-input v-model=\"req.role_name\" placeholder=\"请输入\" class=\"search_input\" @input=\"loadData\"></el-input>\n\t\t\t\t</div>\n\t\t\t\t<el-button size=\"mini\" class=\"search_btn margin_b_20 margin_r_40\" @click=\"loadData\">搜索</el-button>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"container use-table\">\n\t\t\t<div class=\"dflex_sb margin_b_15\">\n\t\t\t\t<div><el-button class=\"batch_btn padding0\" @click=\"removes\">删除</el-button></div>\n\t\t\t\t<el-button class=\"add_btn pos_r padding0\" icon=\"iconfont iconxinzeng\" @click=\"toAdd\">新增</el-button>\n\t\t\t</div>\n\t\t\t<el-table :height=\"tblHeight\" :data=\"tableDatas\" @selection-change=\"selectionChange\" highlight-current-row>\n\t\t\t\t<el-table-column type=\"selection\"></el-table-column>\n\t\t\t\t<el-table-column property=\"_id\" label=\"ID\" width=\"250\" align=\"center\"></el-table-column>\n\t\t\t\t<el-table-column property=\"role_id\" label=\"角色标识\" width=\"100\" align=\"center\"></el-table-column>\n\t\t\t\t<el-table-column property=\"role_name\" label=\"角色名称\" align=\"center\"></el-table-column>\n\t\t\t\t<el-table-column property=\"comment\" label=\"备注\" align=\"center\"></el-table-column>\n\t\t\t\t<el-table-column property=\"create_date\" label=\"创建时间\" align=\"center\"></el-table-column>\n\t\t\t\t<el-table-column label=\"操作\" align=\"center\" fixed=\"right\">\n\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t<el-tooltip content=\"编辑\" placement=\"top\" :hide-after=\"1000\" :enterable=\"false\" effect=\"light\">\n\t\t\t\t\t\t\t<el-button type=\"text\" icon=\"iconfont iconbianji\" class=\"bbb\" @click=\"toEdit(scope.row._id)\"></el-button>\n\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t\t<el-tooltip content=\"删除\" placement=\"top\" :hide-after=\"1000\" :enterable=\"false\" effect=\"light\">\n\t\t\t\t\t\t\t<el-button type=\"text\" icon=\"iconfont iconshanchu\" class=\"bbb\" @click=\"remove(scope.row._id)\"></el-button>\n\t\t\t\t\t\t</el-tooltip>\n\t\t\t\t\t</template>\n\t\t\t\t</el-table-column>\n\t\t\t</el-table>\n\t\t\t<el-pagination\n\t\t\t\t:current-page=\"req.page\"\n\t\t\t\t:page-sizes=\"[10, 20, 30, 50, 100]\"\n\t\t\t\t:page-size=\"req.rows\"\n\t\t\t\tlayout=\"total, sizes, prev, pager, next, jumper\"\n\t\t\t\t:total=\"tableTotal\"\n\t\t\t\t@size-change=\"sizeChange\"\n\t\t\t\t@current-change=\"currentChange\"\n\t\t\t></el-pagination>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nconst __name = 'uni-id-roles';\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tdefaultOptions: [\n\t\t\t\t{\n\t\t\t\t\tvalue: '',\n\t\t\t\t\tlabel: '全部'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: '是',\n\t\t\t\t\tlabel: '是'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: '否',\n\t\t\t\t\tlabel: '否'\n\t\t\t\t}\n\t\t\t],\n\t\t\treq: {\n\t\t\t\tpage: 1,\n\t\t\t\trows: 10,\n\t\t\t\torderby: 'sort asc',\n\t\t\t\trole_name: ''\n\t\t\t},\n\t\t\ttblHeight: 0,\n\t\t\ttableDatas: [],\n\t\t\ttableTotal: 0,\n\t\t\tselectDatas: [],\n\t\t\tid: '',\n\t\t\tautDrawer: false\n\t\t};\n\t},\n\tmethods: {\n\t\tasync loadData() {\n\t\t\tawait this.$db[__name]\n\t\t\t\t.whereif(this.req.role_name, { role_name: new RegExp(this.req.role_name) })\n\t\t\t\t.totable(this.req)\n\t\t\t\t.then(res => {\n\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\tres.datas.rows.forEach((row, idx) => {\n\t\t\t\t\t\t\trow.create_date = new Date(row.create_date).format();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis.tableDatas = res.datas.rows;\n\t\t\t\t\t\tthis.tableTotal = res.datas.total;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t},\n\t\ttoAdd() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/system_set/role/role_add_edit?tab=添加角色`,\n\t\t\t\tevents: {\n\t\t\t\t\trefreshData: () => {\n\t\t\t\t\t\tthis.loadData();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttoEdit(id) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/system_set/role/role_add_edit?id=${id}&tab=编辑角色`,\n\t\t\t\tevents: {\n\t\t\t\t\trefreshData: () => {\n\t\t\t\t\t\tthis.loadData();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tremove(id) {\n\t\t\tthis.$confirm('此操作将永久删除该数据！', '提示', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\t\t\t\tthis.$db[__name].remove(id).then(res => {\n\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\tthis.loadData();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tselectionChange(datas) {\n\t\t\tthis.selectDatas = datas;\n\t\t},\n\t\tremoves() {\n\t\t\tif (this.selectDatas.length <= 0) {\n\t\t\t\tthis.$message('请勾选需要删除的数据');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\n\t\t\tlet ids = this.selectDatas.map(x => x._id);\n\t\t\n\t\t\tthis.$confirm('此操作将永久删除勾选数据！', '提示', {\n\t\t\t\tconfirmButtonText: '确定',\n\t\t\t\tcancelButtonText: '取消',\n\t\t\t\ttype: 'warning'\n\t\t\t}).then(() => {\n\t\t\t\tthis.$db[__name]\n\t\t\t\t\t.where({\n\t\t\t\t\t\t_id: this.$db.$cmd.in(ids)\n\t\t\t\t\t})\n\t\t\t\t\t.remove()\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.code == 200) {\n\t\t\t\t\t\t\tthis.loadData();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tsizeChange(size) {\n\t\t\tthis.req.rows = size;\n\t\t\tthis.loadData();\n\t\t},\n\t\tcurrentChange(current) {\n\t\t\tthis.req.page = current;\n\t\t\tthis.loadData();\n\t\t}\n\t},\n\tcreated() {\n\t\tthis.loadData();\n\t},\n\tupdated() {\n\t\tif (!this.tblHeight) {\n\t\t\tthis.tblHeight = this.$refs.tbl.tblHeight;\n\t\t}\n\t}\n};\n</script>\n\n<style></style>\n"],"sourceRoot":""}